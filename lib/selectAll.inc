<?php
/**
 * =====================================================================================
 プログラム名  ：	勤怠管理システム（Web版）
 プログラム説明：社員の勤怠情報を管理するシステムです。
 管理者はカレンダーを使用して視覚的に勤怠の登録、削除、変更
 を行えるほか各社員の勤怠情報の閲覧、休日、休憩時間の設定
 機能を使用することができます。

 勤怠情報とカレンダー部分はPDF,EXCEL出力することが可能です。
 作成者        ：	水島創
 作成日        ：	2015/9/11
 =====================================================================================
 */

// ====================================================================================
//selectAll.inc
//
//全てのDB情報を取得し、返却するクラス
//=====================================================================================

	/*====================================================================================
	 *概要：
	 *	selectAllEvent
	 *機能説明：
	 *	全イベント情報を取得し戻り値として返す。
	 *	データが無かった場合はfalseを返す。
	 *引数：
	 *	DB情報
	 *戻り値：
	 *	なし
	 *備考：
	 *	作成日)	2015/9/11
	 *	作成者)	水島創太
	 *	説明）
	 *	更新日)
	 *	更新者)
	 *	変更)
	 ====================================================================================
	 */

		function selectAllEvent($db){
			//SQL文の準備
			$sql = "SELECT * FROM eventinfo";

			//SQL文の発行
			$result = mysql_query($sql,$db);

			//検索結果の件数を取得
			$rows = mysql_num_rows($result);

			//検索結果の確認
			if($rows > 0){

				//繰り返し処理を使用して全取得データをeventInfoに格納
				while($row = mysql_fetch_assoc($result)):
					//格納した1行データをeventInfoに配列で格納
					$eventInfo[] = $row;

				endwhile;

			}else{

				$eventInfo = false;

			}

			//検索結果の開放
			mysql_free_result($result);

			//検索結果を戻り値として返す
			return $eventInfo;

		}
?>
